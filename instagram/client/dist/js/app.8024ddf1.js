(function(e){function t(t){for(var r,o,i=t[0],c=t[1],u=t[2],l=0,f=[];l<i.length;l++)o=i[l],a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={app:0},a={app:0},s=[];function i(e){return c.p+"js/"+({register:"register"}[e]||e)+"."+{"chunk-2d0d5f86":"19529725","chunk-357712a1":"26e6b094","chunk-408fae90":"323ae2a4","chunk-43ab4dae":"012c8b3f","chunk-4ac96578":"604b7ad9","chunk-4f83dc90":"e33db1a9","chunk-5785349c":"129f724d","chunk-6de7da06":"0f4fede9","chunk-77e7f66a":"0cbbebc5","chunk-7bf419da":"75893ae8","chunk-dd2c8978":"84aeb265","chunk-f3baa4c2":"a7e8d61f",register:"668b7c2d"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-357712a1":1,"chunk-408fae90":1,"chunk-43ab4dae":1,"chunk-4ac96578":1,"chunk-4f83dc90":1,"chunk-5785349c":1,"chunk-6de7da06":1,"chunk-77e7f66a":1,"chunk-7bf419da":1,"chunk-dd2c8978":1,"chunk-f3baa4c2":1,register:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var r="css/"+({register:"register"}[e]||e)+"."+{"chunk-2d0d5f86":"31d6cfe0","chunk-357712a1":"8fb598fd","chunk-408fae90":"c4fb5531","chunk-43ab4dae":"6dd6dbee","chunk-4ac96578":"fd3376e6","chunk-4f83dc90":"75c55e08","chunk-5785349c":"5bfc8a38","chunk-6de7da06":"bb316de8","chunk-77e7f66a":"d8c4cab8","chunk-7bf419da":"4dd7ffb1","chunk-dd2c8978":"f2ae8aad","chunk-f3baa4c2":"0f1dc6f4",register:"d8099923"}[e]+".css",a=c.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===a))return t()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){u=f[i],l=u.getAttribute("data-href");if(l===r||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete o[e],d.parentNode.removeChild(d),n(s)},d.href=a;var g=document.getElementsByTagName("head")[0];g.appendChild(d)}).then(function(){o[e]=0}));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e),u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");s.type=r,s.request=o,n[1](s)}a[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0150":function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("96cf");var r=n("3b8d"),o=(n("673e"),n("28a5"),void 0),a={isAuth:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e)try{var t=JSON.parse(atob(e.split(".")[1])),n=t["role"];if(t&&(null!==n||void 0!==n))return!0}catch(r){localStorage.clear(),o.$toast.open({message:"Unauthorized",type:"error"})}return!1},getUsername:function(){var e=localStorage.getItem("token");if(null!=e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t["sub"]}return null},getUserId:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t["id"]}return null},getRole:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t["role"]}},getFirstName:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t["firstName"]}},getLastName:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t["lastName"]}},getProfilePicUrl:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t)return t["profilePicUrl"]}},isAdminOrRoot:function(){var e=localStorage.getItem("token");if(null!==e&&void 0!==e){var t=JSON.parse(atob(e.split(".")[1]));if(t){var n=t["role"];return"ROOT"===n||"ADMIN"===n}}},getUserData:function(){var e={username:this.getUsername(),id:this.getUserId(),firstName:this.getFirstName(),lastName:this.getLastName(),role:this.getRole(),getProfilePicUrl:this.getProfilePicUrl(),isAdminOrRoot:this.isAdminOrRoot()};return e},getImageClass:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getMeta(t);case 2:if(n=e.sent,r=n.width,o=n.height,!(r>=o)){e.next=7;break}return e.abrupt("return","l");case 7:return e.abrupt("return","");case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getMeta:function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src=e})}}},"034f":function(e,t,n){"use strict";var r=n("64a9"),o=n.n(r);o.a},"0351":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={getPostImageClass:function(e,t){return e>t?"l":""}}},1:function(e,t){},1904:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"registerAction",function(){return le}),n.d(r,"loginAction",function(){return fe}),n.d(r,"logoutAction",function(){return de}),n.d(r,"resetState",function(){return ge}),n.d(r,"fetchLoggedInUser",function(){return me}),n.d(r,"fetchTimeLineUser",function(){return pe}),n.d(r,"updateUserImageClass",function(){return be}),n.d(r,"updateUser",function(){return he});var o={};n.r(o),n.d(o,"getLoggedInUserData",function(){return ve}),n.d(o,"getTimeLineUserData",function(){return ye}),n.d(o,"getIsLoggedIn",function(){return Oe});var a={};n.r(a),n.d(a,"fetchAllUsersAdminAction",function(){return He}),n.d(a,"fetchAllUsersAction",function(){return We}),n.d(a,"fetchAllFollowingCandidates",function(){return Je}),n.d(a,"fetchUserDetails",function(){return Be}),n.d(a,"promoteUserAction",function(){return Ke}),n.d(a,"demoteUserAction",function(){return qe}),n.d(a,"followUserAction",function(){return ze}),n.d(a,"unFollowUserAction",function(){return Ye}),n.d(a,"fetchUserPosts",function(){return Qe}),n.d(a,"fetchFollowers",function(){return Ve}),n.d(a,"fetchFollowing",function(){return Xe}),n.d(a,"updateUserImageClass",function(){return Ze}),n.d(a,"deleteUser",function(){return et}),n.d(a,"resetState",function(){return tt});var s={};n.r(s),n.d(s,"getAllUsersAdmin",function(){return nt}),n.d(s,"getAllUsers",function(){return rt}),n.d(s,"getFirstFiveUsers",function(){return ot}),n.d(s,"getFollowers",function(){return at}),n.d(s,"getFollowersCount",function(){return st}),n.d(s,"getFollowing",function(){return it}),n.d(s,"getFollowingCount",function(){return ct}),n.d(s,"getFollowingCandidates",function(){return ut}),n.d(s,"getFirstThreeFollowingCandidates",function(){return lt}),n.d(s,"getCurrentPostUser",function(){return ft});var i={};n.r(i),n.d(i,"fetchNonLoggedInUserPosts",function(){return Bt}),n.d(i,"fetchUserPosts",function(){return Kt}),n.d(i,"fetchFollowingPosts",function(){return qt}),n.d(i,"updatePostImageClass",function(){return zt}),n.d(i,"updateCreatorImageClass",function(){return Yt}),n.d(i,"createPost",function(){return Qt}),n.d(i,"resetForeignPostState",function(){return Vt}),n.d(i,"resetUserPostState",function(){return Xt}),n.d(i,"resetFollowingPostState",function(){return Zt}),n.d(i,"changePostLikeCount",function(){return en}),n.d(i,"fetchPostDetails",function(){return tn});var c={};n.r(c),n.d(c,"getUserPosts",function(){return nn}),n.d(c,"getPostCount",function(){return rn}),n.d(c,"getLoadingUserPosts",function(){return on}),n.d(c,"getUserPostPagesCount",function(){return an}),n.d(c,"getCurrentPageUser",function(){return sn}),n.d(c,"getNotLoggedInUserPosts",function(){return cn}),n.d(c,"getLoadingForeignPosts",function(){return un}),n.d(c,"getForeignPostPagesCount",function(){return ln}),n.d(c,"getCurrentPageForeign",function(){return fn}),n.d(c,"getFollowingPosts",function(){return dn}),n.d(c,"getLoadingFollowingPosts",function(){return gn}),n.d(c,"getFollowingPostsPagesCount",function(){return mn}),n.d(c,"getCurrentPageFollowingPosts",function(){return pn}),n.d(c,"getLastCommentFollowingPosts",function(){return bn}),n.d(c,"getCurrentPost",function(){return hn});var u={};n.r(u),n.d(u,"createComment",function(){return Nn}),n.d(u,"fetchLastCommentByPostId",function(){return Dn}),n.d(u,"fetchComments",function(){return Rn}),n.d(u,"updateUserImageClass",function(){return $n});var l={};n.r(l),n.d(l,"getComments",function(){return Mn}),n.d(l,"getLastComment",function(){return xn});n("cadf"),n("551c"),n("f751"),n("097d");var f=n("2b0e"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center app"},[n("Navbar"),n("router-view"),n("Footer")],1)},g=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{attrs:{type:"checkbox",name:"main-nav-toggle",id:"main-nav-toggle"}}),n("header",{staticClass:"site-header"},[n("section",{staticClass:"navbar-section"},[n("div",{staticClass:"navbar-wrapper"},[n("nav",{staticClass:"navbar navbar-expand-lg"},[n("router-link",{staticClass:"navbar-brand insta-icon-container",attrs:{to:"/home"}},[n("i",{staticClass:"fab fa-instagram"}),n("div",{staticClass:"vertical-line"}),n("div",[e._v("Instagram")])]),e._m(0),n("label",{style:{marginBottom:"0"},attrs:{id:"toggle",for:"main-nav-toggle"}},[n("span",[e._v("Menu")])]),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[n("ul",{staticClass:"navbar-nav mr-auto"}),e.isLoggedIn?n("ul",{staticClass:"navbar-nav"}):e._e(),n("ul",{staticClass:"navbar-nav ml-auto"},[e.isLoggedIn?e._e():[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[e._v("Login")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[e._v("Register")])],1)],e.isLoggedIn?[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/explore"}},[n("i",{staticClass:"far fa-compass"})])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/people"}},[n("i",{staticClass:"fas fa-heart"})])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"single-user-page",params:{username:e.loggedInUserData.username}}}},[n("i",{staticClass:"fas fa-user-alt"})])],1),n("li",{staticClass:"nav-item custom-dropdown"},[n("div",{staticClass:"btn-group"},[e._m(1),n("div",{staticClass:"dropdown-menu dropdown-menu-right"},[e.isLoggedInUserAdminOrRoot?n("router-link",{staticClass:"dropdown-item custom-dropdown-items",attrs:{to:"/admin/all"}},[e._v("All Users")]):e._e(),n("div",{on:{click:e.logout}},[n("router-link",{staticClass:"dropdown-item custom-dropdown-items",attrs:{to:"/login"}},[e._v("Logout")])],1)],1)])])]:e._e()],2)])],1)])])])])},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav-link custom-dropdown-button dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[n("i",{staticClass:"fas fa-ellipsis-v"})])}],b=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),h=n("0150"),v=n("2f62");function y(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(b["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P={name:"Navbar",components:{},data:function(){return{}},computed:O({},Object(v["c"])("auth",{isLoggedIn:"getIsLoggedIn",loggedInUserData:"getLoggedInUserData"}),{isLoggedInUserAdminOrRoot:function(){return"ROOT"===this.loggedInUserData.role||"ADMIN"===this.loggedInUserData.role}}),methods:O({},Object(v["b"])("auth",["logoutAction"]),{logout:function(){this.logoutAction()}})},C=P,w=(n("d8fc"),n("2877")),I=Object(w["a"])(C,m,p,!1,null,"20864c7e",null),E=I.exports,U=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},S=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"App-footer"},[n("div",{staticClass:"mb-5 mt-5"},[n("p",{staticClass:"footer-insta"},[e._v("© KL-Instagram @ KL 2019. All rights reserved.")])])])}],T={name:"footer-instagram"},j=T,_=(n("c272"),Object(w["a"])(j,U,S,!1,null,null,null)),A=_.exports,k={name:"app",components:{Navbar:E,Footer:A}},L=k,F=(n("034f"),Object(w["a"])(L,d,g,!1,null,null,null)),N=F.exports,D=n("8c4f"),R=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"mt-5"},[r("div",{staticClass:"container mt-5"},[r("h1",{staticClass:"text-center mt-4"},[e._v("This page isn't available")]),r("h3",[e._v("The link you followed may be broken, or the page may have been removed.")]),r("div",{staticClass:"image-wrapper mt-5"},[r("img",{attrs:{src:n("f51c"),alt:"pic"}})])])])}],M={name:"error-page"},x=M,G=Object(w["a"])(x,R,$,!1,null,null,null),H=G.exports;f["a"].use(D["a"]);var W,J=new D["a"]({mode:"history",routes:[{path:"/",name:"landing-page",component:function(){return n.e("chunk-357712a1").then(n.bind(null,"40b8"))}},{path:"/register",name:"register-page",component:function(){return n.e("register").then(n.bind(null,"8784"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n("/"):n()}},{path:"/login",name:"login-page",component:function(){return n.e("chunk-f3baa4c2").then(n.bind(null,"49f1"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n("/"):n()}},{path:"/home",name:"user-feed-page",beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n():n("/")},component:function(){return n.e("chunk-dd2c8978").then(n.bind(null,"76d0"))}},{path:"/people",name:"all-users-page",component:function(){return n.e("chunk-6de7da06").then(n.bind(null,"6143"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n():n("/")}},{path:"/explore",name:"explore",component:function(){return n.e("chunk-7bf419da").then(n.bind(null,"d007"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n():n("/")}},{path:"/admin/all",name:"user-all",component:function(){return n.e("chunk-43ab4dae").then(n.bind(null,"d07c"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth(),o=h["a"].getRole();!r||"ROOT"!==o&&"ADMIN"!==o?n("/"):n()}},{path:"/user/:username",name:"single-user-page",component:function(){return n.e("chunk-4f83dc90").then(n.bind(null,"37fe"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n():n("/")}},{path:"/account/activity",name:"activity",component:function(){return n.e("chunk-2d0d5f86").then(n.bind(null,"710f"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n():n("/")}},{path:"/account/edit",name:"edit-profile",component:function(){return n.e("chunk-4ac96578").then(n.bind(null,"d21c"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n():n("/")}},{path:"/account/delete/:id",name:"delete-user",component:function(){return n.e("chunk-408fae90").then(n.bind(null,"fdbd"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n():n("/")}},{path:"/post/create",name:"post-create",component:function(){return n.e("chunk-77e7f66a").then(n.bind(null,"0b43"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n():n("/")}},{path:"/post/:postId",name:"post-details",component:function(){return n.e("chunk-5785349c").then(n.bind(null,"4d88"))},beforeEnter:function(e,t,n){var r=h["a"].isAuth();r?n():n("/")}},{path:"*",name:"error-page",component:H}]}),B=n("28dd"),K=n("1dce"),q=n.n(K),z=(n("4989"),n("ab8b"),n("b079")),Y=n.n(z),Q=(n("2fff"),n("28a5"),n("aef6"),{install:function(e,t){e.http.interceptors.push(function(e,t){var n=localStorage.getItem("token");n&&n.length&&!e.url.endsWith("login")&&!e.url.endsWith("register")&&(e.headers.set("Authorization","Bearer ".concat(n)),e.headers.set("Accept","application/json")),t(function(e){200===e.status&&e.url.endsWith("login")&&V(e.body),0!==e.status||e.body||(e.body={message:"Server Error!"},e.status="500")})})}}),V=function(e){var t=JSON.parse(e).split(" ")[1];localStorage.setItem("token",t)},X=n("0e44"),Z=n("a78e"),ee={get:function(e){return f["a"].http.get(e).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},post:function(e,t){return f["a"].http.post(e,t).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},put:function(e,t){return f["a"].http.put(e,t).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},delete:function(e,t){return f["a"].http.delete(e,t).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})}},te=n("aa6f"),ne=n.n(te),re="CHANGE_IS_AUTHENTICATED",oe="RESET_STATE",ae="FETCH_LOGGEDIN_USER",se="FETCH_TIMELINE_USER",ie="UPDATE_TIMELINE_USER",ce="UPDATE_USER_IMAGE_CLASS",ue="RESET_AUTH_STATE",le=function(e,t){var n="user/register";ee.post(n,t).then(function(e){f["a"].$toast.open({message:e.body.message,type:"success"}),J.push("/login")}).catch(function(e){var t="Server error!";400===e.status&&(t=e.body.message),f["a"].$toast.open({message:t,type:"error"})})},fe=function(e,t){ee.post("login",t).then(function(t){var n=h["a"].getUserId();e.dispatch("fetchLoggedInUser",{id:n}),e.dispatch("user/fetchAllUsersAction",{id:n},{root:!0}),e.commit({type:re,value:!0}),f["a"].$toast.open({message:"You have successfully logged in!",type:"success"}),J.push("/")}).catch(function(e){var t="Server error!";403===e.status&&(t="Incorrect email or password!"),f["a"].$toast.open({message:t,type:"error"})})},de=function(e){e.commit({type:re,value:!1}),e.commit(ue),e.commit("post/RESET_POST_STATE",null,{root:!0}),e.commit("user/RESET_USER_STATE",null,{root:!0}),e.commit("comment/RESET_COMMENT_STATE",null,{root:!0}),localStorage.clear(),J.push("/login"),f["a"].$toast.open({message:"You have successfully logged out!",type:"info"})},ge=function(e){e.commit({type:oe})},me=function(e,t){var n="user/details/id/"+t.id;ee.get(n).then(function(t){e.commit({type:ae,user:t.body}),e.dispatch("updateUserImageClass",{user:t.body,userType:"loggedInUser"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},pe=function(e,t){var n="user/details/username/"+t.username;ee.get(n).then(function(t){e.commit({type:se,user:t.body}),e.dispatch("updateUserImageClass",{user:t.body,userType:"timeLineUser"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},be=function(e,t){var n=t.user,r=t.userType,o=n.profilePicUrl||ne.a;h["a"].getImageClass(o).then(function(t){e.commit({type:ce,imageClass:t,id:n.id,userType:r})}).catch(function(e){f["a"].$toast.open({message:"Update LoggedIn/TimeLine User Image Class Error!",type:"error"})})},he=function(e,t){var n=e.rootState.auth.loggedInUser.id,r=e.state.timeLineUser.username,o="user/update/"+n;ee.put(o,t).then(function(e){J.push("/user/"+r)}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},ve=function(e){return e.loggedInUser},ye=function(e){return e.timeLineUser},Oe=function(e){return e.isLoggedIn};function Pe(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(n,!0).forEach(function(t){Object(b["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var we,Ie={isLoggedIn:h["a"].isAuth(),loggedInUser:{username:h["a"].getUsername(),id:h["a"].getUserId(),firstName:h["a"].getFirstName(),lastName:h["a"].getLastName(),role:h["a"].getRole(),profilePicUrl:h["a"].getProfilePicUrl()||ne.a,isAdminOrRoot:h["a"].isAdminOrRoot(),bio:"",website:"",imageClass:""},timeLineUser:{username:"",id:"",firstName:"",lastName:"",role:"",profilePicUrl:ne.a,isAdminOrRoot:"",bio:"",website:"",imageClass:""}},Ee=(W={},Object(b["a"])(W,re,function(e,t){e.isLoggedIn=t.value}),Object(b["a"])(W,void 0,function(e,t){e.isLoggedIn=t.value}),Object(b["a"])(W,ae,function(e,t){e.loggedInUser=Ce({},t.user),e.loggedInUser.isAdminOrRoot=h["a"].isAdminOrRoot()}),Object(b["a"])(W,se,function(e,t){e.timeLineUser=Ce({},t.user),e.timeLineUser.isAdminOrRoot="ROOT"===t.user.role||"ADMIN"===t.user.role}),Object(b["a"])(W,ie,function(e,t){e.timeLineUser=Ce({},e.timeLineUser,{},t.user),e.timeLineUser.isAdminOrRoot="ROOT"===t.user.role||"ADMIN"===t.user.role}),Object(b["a"])(W,ce,function(e,t){var n=t.id,r=t.imageClass,o=t.userType;Ue(e,n,r,o)}),Object(b["a"])(W,oe,function(e){for(var t in e)f["a"].set(e,t,Ie[t])}),Object(b["a"])(W,ue,function(e){e.isLoggedIn=Ie.isLoggedIn,e.loggedInUser=Ie.loggedInUser,e.timeLineUser=Ie.timeLineUser}),W),Ue=function(e,t,n,r){switch(r){case"loggedInUser":e.loggedInUser=Ce({},e.loggedInUser,{imageClass:n});break;case"timeLineUser":e.timeLineUser=Ce({},e.timeLineUser,{imageClass:n});break;default:break}},Se={state:Ce({},Ie),actions:r,getters:o,mutations:Ee},Te=n("75fc"),je="FETCH_ALL_USERS",_e="FETCH_ALL_USERS_ADMIN",Ae="PROMOTE_USER",ke="DEMOTE_USER",Le="FOLLOW_USER_SUCCESS",Fe="UNFOLLOW_USER_SUCCESS",Ne="FETCH_ALL_FOLLOWERS",De="FETCH_ALL_FOLLOWING",Re="DELETE_USER_SUCCESS",$e="UPDATE_USER_IMAGE_CLASS",Me="FETCH_ALL_FOLLOWING_CANDIDATES",xe="FETCH_USER_DETAILS",Ge="RESET_USER_STATE",He=function(e,t){var n="user/admin/all/"+t.id;ee.get(n).then(function(t){e.commit({type:_e,users:t.body}),e.dispatch("updateUserImageClass",{users:t.body,arrType:"allUsersAdmin"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},We=function(e,t){var n="user/all/"+t.id;ee.get(n).then(function(t){e.commit({type:je,users:t.body}),e.dispatch("updateUserImageClass",{users:t.body,arrType:"allUsers"});var n=e.state.followingCandidates;e.dispatch("updateUserImageClass",{users:n,arrType:"followingCandidates"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Je=function(e,t){var n="user/followingCandidates/"+t;ee.get(n).then(function(t){e.commit({type:Me,users:t.body}),e.dispatch("updateUserImageClass",{users:t.body,arrType:"followingCandidates"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Be=function(e,t){var n="user/details/postId/"+t;ee.get(n).then(function(t){e.commit({type:xe,user:t.body})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Ke=function(e,t){var n="user/promote?id="+t;ee.post(n,{}).then(function(n){var r={id:t,role:"ADMIN"};e.commit({type:Ae,userData:r}),f["a"].$toast.open({message:n.body.message,type:"success"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},qe=function(e,t){var n="user/demote?id="+t;ee.post(n,{}).then(function(n){var r={id:t,role:"USER"};e.commit({type:ke,userData:r}),f["a"].$toast.open({message:n.body.message,type:"success"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},ze=function(e,t){var n="follower/follow",r=e.rootState.auth.loggedInUser.id,o={loggedInUserId:r,userToFollowId:t};ee.post(n,o).then(function(n){e.commit({type:Le,userToFollowId:t}),f["a"].$toast.open({message:n.body.message,type:"success"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Ye=function(e,t){var n="follower/unFollow",r=e.rootState.auth.loggedInUser.id,o={loggedInUserId:r,userToUnFollowId:t};ee.post(n,o).then(function(n){e.commit({type:Fe,userToUnFollowId:t}),f["a"].$toast.open({message:n.body.message,type:"success"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Qe=function(e,t){var n="post/all/"+t;ee.get(n).then(function(t){e.commit({type:je,users:t.body})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Ve=function(e,t){var n="follower/getFollowers/"+t;ee.get(n).then(function(t){e.commit({type:Ne,followers:t.body}),e.dispatch("updateUserImageClass",{users:t.body,arrType:"followers"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Xe=function(e,t){var n="follower/getFollowing/"+t;ee.get(n).then(function(t){e.commit({type:De,following:t.body}),e.dispatch("updateUserImageClass",{users:t.body,arrType:"following"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Ze=function(e,t){var n=t.users,r=t.arrType;n.forEach(function(t){var n=t.profilePicUrl||t.userProfilePicUrl||t.followerProfilePicUrl||ne.a,o=t.id||t.userId||t.followerId;h["a"].getImageClass(n).then(function(t){e.commit({type:$e,imageClass:t,id:o,arrType:r})}).catch(function(e){f["a"].$toast.open({message:"Update User Image Class Error!  => "+r,type:"error"})})})},et=function(e,t){e.rootState.auth.loggedInUser.id;var n="user/delete/"+t;ee.delete(n,{}).then(function(n){e.commit({type:Re,userId:t}),J.push("/"),f["a"].$toast.open({message:n.body.message,type:"success"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},tt=function(e){e.commit({type:void 0})},nt=function(e){return e.usersAdmin},rt=function(e){return e.users},ot=function(e){return e.users.slice(0,5)},at=function(e){return e.followers},st=function(e){return e.followers.length},it=function(e){return e.following},ct=function(e){return e.users.filter(function(e){return e.active}).length},ut=function(e){return e.followingCandidates},lt=function(e){return e.followingCandidates.slice(0,3)},ft=function(e){return e.currentPostUser};function dt(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(n,!0).forEach(function(t){Object(b["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var mt,pt={usersAdmin:[],users:[],followers:[],following:[],followingCandidates:[],currentPostUser:{username:"",id:"",firstName:"",lastName:"",role:"",profilePicUrl:ne.a,isAdminOrRoot:"",bio:"",website:"",imageClass:""}},bt=(we={},Object(b["a"])(we,je,function(e,t){e.users=t.users,yt(e)}),Object(b["a"])(we,_e,function(e,t){e.usersAdmin=t.users}),Object(b["a"])(we,Re,function(e,t){var n=t.userId,r=e.usersAdmin.filter(function(e){return e.id!==n}),o=e.users.filter(function(e){return e.id!==n});e.usersAdmin=r,e.users=o}),Object(b["a"])(we,Ne,function(e,t){e.followers=t.followers,Pt(e)}),Object(b["a"])(we,De,function(e,t){e.following=t.following}),Object(b["a"])(we,Me,function(e,t){e.followingCandidates=t.users}),Object(b["a"])(we,xe,function(e,t){e.currentPostUser=gt({},e.currentPostUser,{},t.user)}),Object(b["a"])(we,$e,function(e,t){var n=t.id,r=t.imageClass,o=t.arrType;ht(e,n,r,o)}),Object(b["a"])(we,Ae,function(e,t){Et(t.userData.id,t.userData.role,e)}),Object(b["a"])(we,ke,function(e,t){Et(t.userData.id,t.userData.role,e)}),Object(b["a"])(we,Le,function(e,t){Ct(e,t.userToFollowId,!0),wt(e,t.userToFollowId,!0),It(e,t.userToFollowId,!0),Ot(e,t.userToFollowId,!0)}),Object(b["a"])(we,Fe,function(e,t){Ct(e,t.userToUnFollowId,!1),wt(e,t.userToUnFollowId,!1),It(e,t.userToUnFollowId,!1),Ot(e,t.userToUnFollowId,!1)}),Object(b["a"])(we,Ge,function(e){e.usersAdmin=[],e.users=[],e.followers=[],e.following=[],e.followingCandidates=[]}),we),ht=function(e,t,n,r){var o=[];switch(r){case"allUsersAdmin":o=vt(e.usersAdmin,t,n),e.usersAdmin=Object(Te["a"])(o);break;case"allUsers":o=vt(e.users,t,n),e.users=Object(Te["a"])(o);break;case"followers":o=vt(e.followers,t,n),e.followers=Object(Te["a"])(o);break;case"following":o=vt(e.following,t,n),e.following=Object(Te["a"])(o);break;case"followingCandidates":o=vt(e.followingCandidates,t,n),e.followingCandidates=Object(Te["a"])(o);break;default:break}},vt=function(e,t,n){return e.map(function(e){return e.id!==t?e:gt({},e,{imageClass:n})})},yt=function(e){var t=e.users.filter(function(e){return!e.active});e.followingCandidates=Object(Te["a"])(t)},Ot=function(e,t,n){var r=e.followingCandidates.map(function(e){return e.id!==t?e:gt({},e,{active:n})});e.followingCandidates=Object(Te["a"])(r)},Pt=function(e){var t=e.followers.map(function(t){return e.users.forEach(function(e){e.id==t.followerId&&(t.active=e.active)}),gt({},t)});e.followers=Object(Te["a"])(t)},Ct=function(e,t,n){var r=e.users.map(function(e){return e.id!==t?e:gt({},e,{active:n})});e.users=Object(Te["a"])(r)},wt=function(e,t,n){var r=e.following.map(function(e){return e.userId!==t?e:gt({},e,{active:n})});e.following=Object(Te["a"])(r)},It=function(e,t,n){var r=e.followers.map(function(e){return e.followerId!==t?e:gt({},e,{active:n})});e.followers=Object(Te["a"])(r)},Et=function(e,t,n){var r=n.usersAdmin.map(function(n){return n.id!==e?n:gt({},n,{role:t})});n.usersAdmin=Object(Te["a"])(r)},Ut={state:gt({},pt),actions:a,getters:s,mutations:bt},St=n("0351"),Tt="POST_CREATE_BEGIN",jt="POST_CREATE_SUCCESS",_t="FETCH_ALL_POSTS",At="LOADING_USER_POSTS",kt="RESET_USER_POSTS_STATE",Lt="FETCH_ALL_FOREIGN_POSTS",Ft="LOADING_FOREIGN_POSTS",Nt="RESET_FOREIGN_POSTS_STATE",Dt="FETCH_FOLLOWING_POSTS",Rt="LOADING_FOLLOWING_POSTS",$t="RESET_FOLLOWING_POSTS_STATE",Mt="UPDATE_POSTIMAGE_CLASS",xt="UPDATE_CREATOR_IMAGE_CLASS",Gt="CHANGE_POST_LIKE_SUCCESS",Ht="ADD_COMMENT_TO_FOLLOWING_POSTS",Wt="FETCH_POST_DETAILS",Jt="RESET_POST_STATE",Bt=function(e,t){var n=t.loggedInUser,r=t.pageNumber;e.commit({type:Ft,loading:!0});var o="post/notMy/"+n+"/"+r;ee.get(o).then(function(t){e.commit({type:Lt,posts:t.body}),e.dispatch("updatePostImageClass",{posts:t.body,arrType:"foreignPosts"}),e.commit({type:Ft,loading:!1})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Kt=function(e,t){var n=t.username,r=t.pageNumber;e.commit({type:At,loading:!0});var o="post/all/"+n+"/"+r;ee.get(o).then(function(t){e.commit({type:_t,posts:t.body}),e.commit({type:At,loading:!1}),e.dispatch("updatePostImageClass",{posts:t.body,arrType:"userPosts"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},qt=function(e,t){var n=t.loggedInUser,r=t.pageNumber;e.commit({type:Rt,loading:!0});var o="post/following/"+n+"/"+r;ee.get(o).then(function(t){e.commit({type:Dt,posts:t.body}),e.commit({type:Rt,loading:!1}),e.dispatch("updatePostImageClass",{posts:t.body,arrType:"followingPosts"}),e.dispatch("updateCreatorImageClass",{posts:t.body,arrType:"followingPosts"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},zt=function(e,t){var n=t.posts,r=t.arrType;n.forEach(function(t){var n=St["a"].getPostImageClass(t.imageWidth,t.imageHeight);e.commit({type:Mt,imageClass:n,postId:t.id,arrType:r})})},Yt=function(e,t){var n=t.posts,r=t.arrType;n.forEach(function(t){var n=t.creatorProfilePicUrl||ne.a,o=t.id;h["a"].getImageClass(n).then(function(t){e.commit({type:xt,imageClass:t,id:o,arrType:r})}).catch(function(e){f["a"].$toast.open({message:"Update User Image Class Error!  => "+r,type:"error"})})})},Qt=function(e,t){var n="post/create";e.commit(Tt),ee.post(n,t).then(function(t){e.commit(jt),f["a"].$toast.open({message:t.body.message,type:"success"});var n=e.rootState.auth.loggedInUser.username;J.push("/user/"+n)}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Vt=function(e){e.commit(Nt)},Xt=function(e){e.commit(kt)},Zt=function(e){e.commit($t)},en=function(e,t){var n="like/changePostLike";ee.post(n,t).then(function(n){e.commit({type:Gt,postId:t.postId,change:n.body.payload}),f["a"].$toast.open({message:n.body.message,type:"success"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},tn=function(e,t){var n=t.postId,r=t.loggedInUserId,o="post/details/"+n+"/"+r;ee.get(o).then(function(t){e.commit({type:Wt,post:t.body.payload})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},nn=function(e){return e.posts},rn=function(e){return e.posts.length>0?e.posts[0].totalElements:0},on=function(e){return e.loadingUserPosts},an=function(e){return e.posts.length>0?e.posts[0].totalPages:0},sn=function(e){return e.posts.length>0?e.posts[e.posts.length-1].currentPageNumber:0},cn=function(e){return e.foreignPosts},un=function(e){return e.loadingForeignPosts},ln=function(e){return e.foreignPosts.length>0?e.foreignPosts[0].totalPages:0},fn=function(e){return e.foreignPosts.length>0?e.foreignPosts[e.foreignPosts.length-1].currentPageNumber:0},dn=function(e){return e.followingPosts},gn=function(e){return e.loadingFollowingPosts},mn=function(e){return e.followingPosts.length>0?e.followingPosts[0].totalPages:0},pn=function(e){return e.followingPosts.length>0?e.followingPosts[e.followingPosts.length-1].currentPageNumber:0},bn=function(e){return function(t){if(e.followingPosts.length>0){var n=e.followingPosts.filter(function(e){return e.id===t})[0].comments;if(n.length>0)return n[n.length-1]}return""}},hn=function(e){return e.currentPost};function vn(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(n,!0).forEach(function(t){Object(b["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var On,Pn={posts:[],loadingUserPosts:!1,foreignPosts:[],loadingForeignPosts:!1,followingPosts:[],loadingFollowingPosts:!1,currentPost:{id:"",caption:"",imageUrl:"",imageWidth:0,imageHeight:0,location:"",privattime:"",creatorId:"",creatorUsername:"",creatorFirstName:"",creatorLastName:"",creatorProfilePicUrl:"",creatorImageWidth:"",creatorImageHeight:"",likeCount:0,hasUserLikedPost:"",comments:[]}},Cn=(mt={},Object(b["a"])(mt,_t,function(e,t){var n;(n=e.posts).push.apply(n,Object(Te["a"])(t.posts))}),Object(b["a"])(mt,At,function(e,t){e.loadingUserPosts=t.loading}),Object(b["a"])(mt,Lt,function(e,t){var n;(n=e.foreignPosts).push.apply(n,Object(Te["a"])(t.posts))}),Object(b["a"])(mt,Ft,function(e,t){e.loadingForeignPosts=t.loading}),Object(b["a"])(mt,Dt,function(e,t){var n;(n=e.followingPosts).push.apply(n,Object(Te["a"])(t.posts))}),Object(b["a"])(mt,Rt,function(e,t){e.loadingFollowingPosts=t.loading}),Object(b["a"])(mt,Wt,function(e,t){e.currentPost=yn({},e.currentPost,{},t.post)}),Object(b["a"])(mt,Mt,function(e,t){var n=t.postId,r=t.imageClass,o=t.arrType;En(e,n,r,o)}),Object(b["a"])(mt,xt,function(e,t){var n=t.id,r=t.imageClass,o=t.arrType;Sn(e,n,r,o)}),Object(b["a"])(mt,Tt,function(e){e.loading=!1}),Object(b["a"])(mt,jt,function(e){e.loading=!0}),Object(b["a"])(mt,Gt,function(e,t,n){wn(e,t,n)}),Object(b["a"])(mt,Ht,function(e,t){var n=t.postId,r=e.followingPosts.map(function(e){if(e.id!=n)return e;var r=[].concat(Object(Te["a"])(e.comments),[t]);return yn({},e,{comments:r})});e.followingPosts=Object(Te["a"])(r)}),Object(b["a"])(mt,Nt,function(e){e.foreignPosts=[]}),Object(b["a"])(mt,kt,function(e){e.posts=[]}),Object(b["a"])(mt,$t,function(e){e.followingPosts=[]}),Object(b["a"])(mt,Jt,function(e){e.posts=[],e.foreignPosts=[],e.loadingForeignPosts=!1}),mt),wn=function(e,t){var n=t.postId,r=t.change,o=[];o=In(e.posts,n,r),e.posts=Object(Te["a"])(o),o=In(e.foreignPosts,n,r),e.foreignPosts=Object(Te["a"])(o),o=In(e.followingPosts,n,r),e.followingPosts=Object(Te["a"])(o),o=In([e.currentPost],n,r),e.currentPost=Object(Te["a"])(o)[0]},In=function(e,t,n){return e.map(function(e){if(e.id!==t)return e;var r=e.likeCount,o=e.hasUserLikedPost;return"add"===n?(r++,o=!0):(r--,o=!1),yn({},e,{likeCount:r,hasUserLikedPost:o})})},En=function(e,t,n,r){var o=[];switch(r){case"userPosts":o=Un(e.posts,t,n),e.posts=Object(Te["a"])(o);break;case"foreignPosts":o=Un(e.foreignPosts,t,n),e.foreignPosts=Object(Te["a"])(o);break;case"followingPosts":o=Un(e.followingPosts,t,n),e.followingPosts=Object(Te["a"])(o);break;default:break}},Un=function(e,t,n){return e.map(function(e){return e.id!==t?e:yn({},e,{imageClass:n})})},Sn=function(e,t,n,r){var o=[];switch(r){case"followingPosts":o=Tn(e.followingPosts,t,n),e.followingPosts=Object(Te["a"])(o);break;default:break}},Tn=function(e,t,n){return e.map(function(e){return e.id!==t?e:yn({},e,{creatorImageClass:n})})},jn={state:yn({},Pn),actions:i,getters:c,mutations:Cn},_n="CREATE_COMMENT_SUCCESS",An="RESET_COMMENT_STATE",kn="FETCH_LAST_COMMENT_SUCCESS",Ln="FETCH_ALL_COMMENTS",Fn="UPDATE_COMMENT_CREATOR_IMAGE_CLASS",Nn=function(e,t){var n="comment/create";ee.post(n,t).then(function(n){var r=n.body.payload;e.commit({type:_n,comment:r}),e.commit("post/ADD_COMMENT_TO_FOLLOWING_POSTS",r,{root:!0}),e.dispatch("fetchLastCommentByPostId",t.postId);var o=[r];e.dispatch("updateUserImageClass",{comments:o,arrType:"commentsCreator"})}).catch(function(e){f["a"].$toast.open({message:e.body.message,type:"error"})})},Dn=function(e,t){var n="comment/last/"+t;ee.get(n).then(function(t){var n=t.body.payload;e.commit({type:kn,comment:n})}).catch(function(e){})},Rn=function(e,t){var n="comment/all/"+t;ee.get(n).then(function(t){e.dispatch("updateUserImageClass",{comments:t.body,arrType:"commentsCreator"}),e.commit({type:Ln,comments:t.body})}).catch(function(e){f["a"].$toast.open({message:"Failure comment fetch!",type:"error"})})},$n=function(e,t){var n=t.comments,r=t.arrType;n.forEach(function(t){var n=t.creatorProfilePicUrl||ne.a,o=t.id;h["a"].getImageClass(n).then(function(t){e.commit({type:Fn,imageClass:t,id:o,arrType:r})}).catch(function(e){f["a"].$toast.open({message:"Update User Image Class Error!  => "+r,type:"error"})})})},Mn=function(e){return e.comments},xn=function(e){return function(t){if(e.lastComments.length>0){var n=e.lastComments.filter(function(e){return e.postId===t})[0];if(n)return n}return""}};function Gn(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(n,!0).forEach(function(t){Object(b["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Wn={comments:[],createdComment:{id:"",postId:"",content:"",creatorId:"",creatorUsername:"",creatorProfilePicUrl:"",creatorImageWidth:"",creatorImageHeight:"",time:null},lastPostComment:{id:"",postId:"",content:"",creatorId:"",creatorUsername:"",creatorProfilePicUrl:"",creatorImageWidth:"",creatorImageHeight:"",time:null},lastComments:[]},Jn=(On={},Object(b["a"])(On,_n,function(e,t){e.createdComment=Hn({},e.createdComment,{},t.comment),e.comments=[].concat(Object(Te["a"])(e.comments),[e.createdComment])}),Object(b["a"])(On,Ln,function(e,t){e.comments=t.comments}),Object(b["a"])(On,kn,function(e,t){var n=t.comment;if(n){var r=n.postId,o=e.lastComments.filter(function(e){return e.postId===r}).length;if(0==o)e.lastComments=[].concat(Object(Te["a"])(e.lastComments),[n]);else{var a=e.lastComments.map(function(e){return e.postId==r?n:e});e.lastComments=Object(Te["a"])(a)}}}),Object(b["a"])(On,Fn,function(e,t){var n=t.id,r=t.imageClass,o=t.arrType;Bn(e,n,r,o)}),Object(b["a"])(On,An,function(e){e.createdComment=Wn.createdComment}),On),Bn=function(e,t,n,r){var o=[];switch(r){case"commentsCreator":o=Kn(e.comments,t,n),e.comments=Object(Te["a"])(o);break;default:break}},Kn=function(e,t,n){return e.map(function(e){return e.id!==t?e:Hn({},e,{imageClass:n})})},qn={state:Hn({},Wn),actions:u,getters:l,mutations:Jn},zn="RESET_STATE_GLOBAL";function Yn(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(n,!0).forEach(function(t){Object(b["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}f["a"].use(v["a"]);var Vn={auth:Qn({},Se.state),user:Qn({},Ut.state),post:Qn({},jn.state),comment:Qn({},qn.state)},Xn=new v["a"].Store({plugins:[Object(X["a"])({getState:function(e){return Z["getJSON"](e)},setState:function(e,t){return Z["set"](e,t,{expires:3,secure:!0})}})],modules:{auth:Qn({namespaced:!0,state:Se.state},Se),user:Qn({namespaced:!0,state:Ut.state},Ut),post:Qn({namespaced:!0,state:jn.state},jn),comment:Qn({namespaced:!0,state:qn.state},qn)},actions:{resetState:function(e){e.commit({type:zn})}},mutations:Object(b["a"])({},zn,function(e){var t=Object.keys(e);t.forEach(function(t){for(var n in e[t])e[t][n]=Vn[t][n]})})}),Zn=n("487a"),er=n.n(Zn),tr=n("802e");f["a"].config.productionTip=!1,f["a"].use(q.a),f["a"].use(B["a"]),f["a"].use(Q),f["a"].use(er.a),f["a"].use(tr["default"]),f["a"].use(Y.a,{duration:3e3,dismissable:!0,position:"top-right"}),f["a"].http.options.root="http://localhost:8000",new f["a"]({store:Xn,router:J,render:function(e){return e(N)}}).$mount("#app")},"5b9c":function(e,t,n){},"64a9":function(e,t,n){},aa6f:function(e,t,n){e.exports=n.p+"img/placeholder.91347baa.png"},c272:function(e,t,n){"use strict";var r=n("5b9c"),o=n.n(r);o.a},d8fc:function(e,t,n){"use strict";var r=n("1904"),o=n.n(r);o.a},f51c:function(e,t,n){e.exports=n.p+"img/Social_Media.92c44f76.jpg"}});
//# sourceMappingURL=app.8024ddf1.js.map